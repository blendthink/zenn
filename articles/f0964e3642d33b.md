---
title: "Mac ã« Ruby ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"
emoji: "ğŸ“•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ruby", "rbenv", "homebrew", "frum"]
published: true
---

## ã¯ã˜ã‚ã«

Ruby ã¯ Mac ã«æ¨™æº–ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã—ã‹ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«åˆ©ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰ãˆãŸã„ã¨ã„ã†ã“ã¨ãŒã‚ˆãã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§èª²é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚

### å‰ææ¡ä»¶

- macOS
    - Monterey
    - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 12.4
    - ãƒãƒƒãƒ— Apple M1 Ultra
- ç¾åœ¨ä½¿ã£ã¦ã„ã‚‹ã‚·ã‚§ãƒ«ãŒ zsh
- zsh
    - 5.8.1 (x86_64-apple-darwin21.0)
- xcode-select
    - version 2395.
- Homebrew
    - 3.5.3

### ç¢ºèªäº‹é …

#### ç¾åœ¨ä½¿ã£ã¦ã„ã‚‹ã‚·ã‚§ãƒ«

```shell
echo $0

# echo $0
# zsh
```

#### å„ãƒ„ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

```shell
zsh --version

# zsh --version
# zsh 5.8.1 (x86_64-apple-darwin21.0)

xcode-select --version

# xcode-select --version
# xcode-select version 2395.

brew --version

# brew --version
# Homebrew 3.5.3
# Homebrew/homebrew-core (git revision 6b633976bb8; last commit 2022-07-02)
# Homebrew/homebrew-cask (git revision 6c2099b31f; last commit 2022-07-03)
```

ã¤ã„ã§ã« Homebrew ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ã‚‚ã‚„ã£ã¦ãŠãã¨ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

```shell
brew upgrade
```

## rbenv

https://github.com/rbenv/rbenv

### 1. rbenv ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
brew install rbenv ruby-build
```

### 2. rbenv ã®åˆæœŸåŒ–ã¨ã‚·ã‚§ãƒ«ã¨ã®çµ±åˆ

```shell
rbenv init

# ...
# Load rbenv automatically by appending
# the following to ~/.zshrc:
# eval "$(rbenv init - zsh)"
# ...

echo 'eval "$(rbenv init - zsh)"' >> ~/.zshrc
```

### 3. è¨­å®šã‚’åæ˜ 

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦ã€å†åº¦é–‹ãã¾ã™ã€‚

### 4. è¨­å®šã®ç¢ºèª

rbenv-doctor ã‚’ä½¿ã£ã¦ã€rbenv ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

```shell
curl -fsSL https://github.com/rbenv/rbenv-installer/raw/main/bin/rbenv-doctor | bash

# Checking for `rbenv' in PATH: /opt/homebrew/bin/rbenv
# Checking for rbenv shims in PATH: OK
# Checking `rbenv install' support: /opt/homebrew/bin/rbenv-install (ruby-build 20220630)
# Counting installed Ruby versions: 1 versions
# Checking RubyGems settings: OK
# Auditing installed plugins: OK
```

### 5. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª

```shell
rbenv install --list

# rbenv install --list
# 2.6.10
# 2.7.6
# 3.0.4
# 3.1.2
# jruby-9.3.6.0
# mruby-3.1.0
# picoruby-3.0.0
# rbx-5.0
# truffleruby-22.1.0
# truffleruby+graalvm-22.1.0
# 
# Only latest stable releases for each Ruby implementation are shown.
# Use 'rbenv install --list-all / -L' to show all local versions.
```

### 6. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
rbenv install 3.0.4
rbenv install 3.1.2
```

### 7. ãƒ­ãƒ¼ã‚«ãƒ«ã§åˆ©ç”¨

```shell
rbenv local 3.0.4

# ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« .ruby-version ãŒä½œæˆã•ã‚Œã‚‹

ruby --version

# ruby 3.0.4p208 (2022-04-12 revision 3fa771dded) [arm64-darwin21]
```

### 8. ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§åˆ©ç”¨

```shell
rbenv global 3.1.2

# ~/.rbenv ã« version ãŒä½œæˆã•ã‚Œã‚‹  

# .ruby-version ãŒå­˜åœ¨ã—ãªã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
ruby --version

# ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin21]
```

## frum

https://github.com/TaKO8Ki/frum

Rust ã§æ›¸ã‹ã‚Œã¦ã„ã¦ã€rbenv ã‚ˆã‚Šã‚‚é€Ÿã„ã‚ˆã†ã§ã™ã€‚
macOS ã‚„ Linux ãªã‚‰ã“ã¡ã‚‰ã‚’åˆ©ç”¨ã—ã¦ã¿ã¦ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

### 1. åˆæœŸè¨­å®š

```shell
brew install frum
echo 'eval "$(frum init)"' >> ~/.zshrc
```

### 2. è¨­å®šã‚’åæ˜ 

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‰ã˜ã¦ã€å†åº¦é–‹ãã¾ã™ã€‚

### 3. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª

```shell
frum install --list

# frum install --list
# 1.2.1
# 1.2.2
# ...
# 3.0.4
# 3.1.0-preview1
# 3.1.0
# 3.1.1
# 3.1.2
```

### 4. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
frum install 3.0.4
frum install 3.1.2
```

### 5. ãƒ­ãƒ¼ã‚«ãƒ«ã§åˆ©ç”¨

```shell
frum local 3.0.4

ruby --version

# ruby 3.0.4p208 (2022-04-12 revision 3fa771dded) [arm64-darwin21]
```

### 6. ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§åˆ©ç”¨

```shell
frum global 3.1.2

ruby --version

# ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin21]
```

## ãŠã‚ã‚Šã«

rbenv ã¨ frum ã‚’ç´¹ä»‹ã—ã¾ã—ãŸãŒã€ã©ã¡ã‚‰ã‚‚è‰¯ã„ãƒ„ãƒ¼ãƒ«ã§ã™ã­ã€‚
ã¿ãªã•ã‚“ã‚‚ãœã²åˆ©ç”¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

â€» ã¯ã˜ã‚ã¦ Zenn ã® GitHub é€£æºã‚’ä½¿ã£ã¦æ›¸ãã¾ã—ãŸãŒã€åŸ·ç­†ä½“é¨“ã¨ã¦ã‚‚å‘ä¸Šã—ã¦è‰¯ãã§ã™ã­ã€‚
